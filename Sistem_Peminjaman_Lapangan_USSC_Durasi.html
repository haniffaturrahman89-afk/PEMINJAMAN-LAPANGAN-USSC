
<!DOCTYPE html>
<html lang="id">
<head>
    <meta charset="UTF-8">
    <title>Sistem Peminjaman Lapangan USSC</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            background: #f4f6f8;
            padding: 30px;
        }
        h2 {
            text-align: center;
            color: #2c3e50;
        }
        .container {
            max-width: 900px;
            margin: auto;
            background: white;
            padding: 25px;
            border-radius: 10px;
            box-shadow: 0 4px 10px rgba(0,0,0,0.1);
        }
        .form-group {
            margin-bottom: 12px;
        }
        label {
            display: inline-block;
            width: 140px;
            font-weight: bold;
        }
        input, select, button {
            padding: 6px;
            width: 220px;
        }
        button {
            background: #27ae60;
            color: white;
            border: none;
            cursor: pointer;
            border-radius: 5px;
        }
        button:hover {
            background: #219150;
        }
        table {
            width: 100%;
            margin-top: 25px;
            border-collapse: collapse;
        }
        th, td {
            border: 1px solid #ccc;
            padding: 8px;
            text-align: center;
        }
        th {
            background: #2ecc71;
            color: white;
        }
    </style>
</head>
<body>

<div class="container">
    <h2>Sistem Peminjaman Lapangan USSC</h2>

    <div class="form-group">
        <label>Nama Peminjam</label>
        <input type="text" id="nama">
    </div>

    <div class="form-group">
        <label>Lapangan</label>
        <select id="lapangan">
            <option>Futsal</option>
            <option>Basket</option>
            <option>Badminton</option>
        </select>
    </div>

    <div class="form-group">
        <label>Tanggal</label>
        <input type="date" id="tanggal">
    </div>

    <div class="form-group">
        <label>Jam Mulai</label>
        <input type="time" id="jamMulai">
    </div>

    <div class="form-group">
        <label>Jam Selesai</label>
        <input type="time" id="jamSelesai">
    </div>

    <div class="form-group">
        <button onclick="tambahData()">Ajukan Peminjaman</button>
    </div>

    <table>
        <thead>
            <tr>
                <th>Nama</th>
                <th>Lapangan</th>
                <th>Tanggal</th>
                <th>Jam Mulai</th>
                <th>Jam Selesai</th>
                <th>Durasi</th>
            </tr>
        </thead>
        <tbody id="dataTabel"></tbody>
    </table>
</div>

<script>
    let dataPinjam = JSON.parse(localStorage.getItem("dataUSSC")) || [];

    function hitungDurasi(mulai, selesai) {
        const start = new Date("1970-01-01T" + mulai + ":00");
        const end = new Date("1970-01-01T" + selesai + ":00");
        let diff = (end - start) / 60000;
        if (diff <= 0) return "Tidak valid";
        let jam = Math.floor(diff / 60);
        let menit = diff % 60;
        return jam + " jam " + menit + " menit";
    }

    function tambahData() {
        const nama = document.getElementById("nama").value;
        const lapangan = document.getElementById("lapangan").value;
        const tanggal = document.getElementById("tanggal").value;
        const jamMulai = document.getElementById("jamMulai").value;
        const jamSelesai = document.getElementById("jamSelesai").value;

        if (!nama || !tanggal || !jamMulai || !jamSelesai) {
            alert("Data belum lengkap!");
            return;
        }

        const durasi = hitungDurasi(jamMulai, jamSelesai);
        if (durasi === "Tidak valid") {
            alert("Jam selesai harus lebih besar dari jam mulai");
            return;
        }

        dataPinjam.push({nama, lapangan, tanggal, jamMulai, jamSelesai, durasi});
        localStorage.setItem("dataUSSC", JSON.stringify(dataPinjam));
        tampilkanData();
    }

    function tampilkanData() {
        const tabel = document.getElementById("dataTabel");
        tabel.innerHTML = "";
        dataPinjam.forEach(d => {
            tabel.innerHTML += `
                <tr>
                    <td>${d.nama}</td>
                    <td>${d.lapangan}</td>
                    <td>${d.tanggal}</td>
                    <td>${d.jamMulai}</td>
                    <td>${d.jamSelesai}</td>
                    <td>${d.durasi}</td>
                </tr>
            `;
        });
    }

    tampilkanData();
</script>

</body>
</html>
